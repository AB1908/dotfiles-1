#!/usr/bin/env bash
#
# dmenu_run with improvements:
# - If the command ends with "!", start it in a terminal.
# - Accept shell aliases.
#
# Author: Rafael Cavalcanti - rafaelc.org

source "$ALIASES"

readonly cmd="$(compgen -ac | dmenu "$@")"
case $cmd in
    *\! ) $TERMINAL_RUN_HOLD bash -ic "$(cut -d'!' -f1 <<< $cmd)" ;;
    * ) $cmd ;;
esac
