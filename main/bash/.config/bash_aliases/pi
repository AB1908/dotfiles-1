#
# Pi aliases
#
# Rafael Cavalcanti


# Source common aliases
. ~/.config/bash_aliases/base

# Check if we are on OSMC
[[ $(cat /etc/issue) = *"OSMC"* ]] && osmc=1 || osmc=0

# System
alias t="/opt/vc/bin/vcgencmd measure_temp"
alias reb="sudo reboot"
alias wel="/etc/profile.d/999-rcwelcome.sh"

# Services
alias kr="sudo systemctl restart kodi"
alias ks="sudo systemctl stop kodi"
[[ $osmc == 0 ]] && alias prr="sudo systemctl restart pifi-radio"

# Backup aliases
if [[ $osmc == 0 ]]; then
	alias backup-kodi="kodi-send --host=127.0.0.1 --action='RunScript(script.xbmcbackup, mode=backup)'"

elif [[ $osmc == 1 ]]; then
	alias backup="\
		printf '[KODI] ' \
		&& kodi-send --host=127.0.0.1 --action='RunScript(/usr/share/kodi/addons/script.module.osmcsetting.updates/resources/lib/call_parent.py, backup)' \
		&& printf '[SYSTEM] '
		&& sudo tar -cf /airport/pi_backups/etc-`date +%Y-%m-%d_%H.%M.%S`.tar.gz -C / etc"
fi

# TV and HDMI output
alias td='echo "standby 0" | cec-client -s'
alias tl='echo "on 0" | cec-client -s'

# Browsing
alias ga="cd /airport"
alias gd="cd /airport/Downloads"
alias_if gk cd "/var/lib/kodi/.kodi"
alias_if gk cd "$HOME/.kodi"
alias gr="cd /opt/rc"
alias g.="cd /opt/rc/dotfiles"
alias gx="cd /srv"

# Misc
if [[ $osmc = 0 ]]; then
	alias mu="pactl set-sink-mute alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo \
		true && echo Muted."
	alias um="pactl set-sink-mute alsa_output.usb-GeneralPlus_USB_Audio_Device-00.analog-stereo \
		false && echo Unmuted."
fi
